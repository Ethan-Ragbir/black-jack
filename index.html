<!-- Dealer Total -->
    <div id="dealer-total" style="position: absolute; top: 280px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(0,0,0,0.9)); padding: 8px 16px; border-radius: 15px; border: 2px solid var(--gold); color: var(--gold); font-weight: 700; display: none;">Total: 0</div>

    <!-- Player Hands -->
    <div id="player-area" class="player-area">
      <!-- Hands will be generated dynamically -->
    </div>

    <!-- Betting Area -->
    <div class="betting-area">
      <!-- Chips -->
      <div class="chips-container">
        <div class="chip chip-5" data-value="5">
          <div class="chip-value">$5</div>
        </div>
        <div class="chip chip-10" data-value="10">
          <div class="chip-value">$10</div>
        </div>
        <div class="chip chip-25" data-value="25">
          <div class="chip-value">$25</div>
        </div>
        <div class="chip chip-50" data-value="50">
          <div class="chip-value">$50</div>
        </div>
        <div class="chip chip-100" data-value="100">
          <div class="chip-value">$100</div>
        </div>
      </div>

      <!-- Game Controls -->
      <div class="game-controls">
        <button id="deal-btn" class="btn-success">Deal Cards</button>
        <button id="clear-bets-btn" class="btn-danger">Clear Bets</button>
        <button id="max-bet-btn">Max Bet</button>
      </div>
    </div>
  </div>

  <!-- Statistics Page -->
  <div id="stats-page" class="screen hidden">
    <div class="stats-page">
      <div class="stats-grid">
        <!-- Basic Statistics -->
        <div class="stats-card">
          <h3>üìä Session Statistics</h3>
          <div class="stat-row">
            <span class="stat-label">Hands Played:</span>
            <span class="stat-value" id="total-hands">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Hands Won:</span>
            <span class="stat-value" id="hands-won">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Hands Lost:</span>
            <span class="stat-value" id="hands-lost">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Pushes:</span>
            <span class="stat-value" id="pushes">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Blackjacks:</span>
            <span class="stat-value" id="blackjacks">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Win Rate:</span>
            <span class="stat-value" id="win-rate">0.00%</span>
          </div>
        </div>

        <!-- Financial Statistics -->
        <div class="stats-card">
          <h3>üí∞ Financial Performance</h3>
          <div class="stat-row">
            <span class="stat-label">Starting Bankroll:</span>
            <span class="stat-value" id="starting-bankroll">$0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Current Balance:</span>
            <span class="stat-value" id="current-balance">$0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Total Wagered:</span>
            <span class="stat-value" id="total-wagered">$0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Net Profit/Loss:</span>
            <span class="stat-value" id="net-profit">$0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Biggest Win:</span>
            <span class="stat-value" id="biggest-win">$0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Biggest Loss:</span>
            <span class="stat-value" id="biggest-loss">$0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Average Bet:</span>
            <span class="stat-value" id="avg-bet">$0</span>
          </div>
        </div>

        <!-- Advanced Statistics -->
        <div class="stats-card">
          <h3>üìà Advanced Metrics</h3>
          <div class="stat-row">
            <span class="stat-label">House Edge:</span>
            <span class="stat-value" id="house-edge">0.50%</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Return to Player:</span>
            <span class="stat-value" id="rtp">99.50%</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Volatility Index:</span>
            <span class="stat-value" id="volatility">Medium</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Hot Streak:</span>
            <span class="stat-value" id="hot-streak">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Cold Streak:</span>
            <span class="stat-value" id="cold-streak">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">Avg. Hand Value:</span>
            <span class="stat-value" id="avg-hand-value">0</span>
          </div>
        </div>

        <!-- Probability Analysis -->
        <div class="probability-section">
          <h3>üé≤ Probability & Mathematical Analysis</h3>
          <div class="prob-grid">
            <div class="prob-card">
              <div class="prob-title">Standard Deviation</div>
              <div class="prob-value" id="std-deviation">0.00</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Variance</div>
              <div class="prob-value" id="variance">0.00</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Expected Value</div>
              <div class="prob-value" id="expected-value">$0.00</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Kelly Criterion</div>
              <div class="prob-value" id="kelly-criterion">0.00%</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Sharpe Ratio</div>
              <div class="prob-value" id="sharpe-ratio">0.00</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Risk of Ruin</div>
              <div class="prob-value" id="risk-of-ruin">0.00%</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Chi-Square Test</div>
              <div class="prob-value" id="chi-square">Normal</div>
            </div>
            <div class="prob-card">
              <div class="prob-title">Confidence Level</div>
              <div class="prob-value" id="confidence-level">95%</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Insurance Modal -->
  <div id="insurance-modal" class="modal hidden">
    <div class="modal-content">
      <h3 class="modal-title">üõ°Ô∏è Insurance</h3>
      <p class="modal-text">
        The dealer is showing an Ace.<br>
        Would you like to take insurance?<br>
        <strong>Cost: $<span id="insurance-cost">0</span></strong>
      </p>
      <div class="modal-buttons">
        <button class="btn-primary btn-success" onclick="game.takeInsurance()">Take Insurance</button>
        <button class="btn-primary btn-danger" onclick="game.declineInsurance()">No Thanks</button>
      </div>
    </div>
  </div>

  <!-- Result Modal -->
  <div id="result-modal" class="modal hidden">
    <div class="modal-content">
      <h2 class="modal-title" id="result-title">Hand Complete</h2>
      <div class="modal-text" id="result-details"></div>
      <div class="modal-text" id="result-payout" style="font-size: 2em; font-weight: 700; color: var(--gold);">+$0</div>
      <button class="btn-primary" onclick="game.continueGame()">Continue Playing</button>
    </div>
  </div>

  <script>
    class EliteBlackjackCasino {
      constructor() {
        this.playerName = '';
        this.balance = 0;
        this.startingBankroll = 0;
        this.numHands = 1;
        this.minBet = 5;
        this.deck = [];
        this.dealerHand = [];
        this.playerHands = [];
        this.currentHand = 0;
        this.gameActive = false;
        this.dealerRevealed = false;
        this.insuranceTaken = false;
        
        // Comprehensive statistics
        this.stats = {
          // Basic stats
          totalHands: 0,
          handsWon: 0,
          handsLost: 0,
          pushes: 0,
          blackjacks: 0,
          
          // Financial stats
          totalWagered: 0,
          netProfit: 0,
          biggestWin: 0,
          biggestLoss: 0,
          sessionResults: [],
          
          // Advanced stats
          handValues: [],
          streaks: { current: 0, hot: 0, cold: 0, type: 'none' },
          
          // Probability data
          outcomes: [],
          betSizes: []
        };
        
        this.dealerQuotes = {
          welcome: [
            "Welcome back to my table, {name}! Ready to play some serious blackjack?",
            "Good to see you, {name}! Let's see what the cards have in store today.",
            "Hey there {name}! Take a seat and let's make some money.",
            "{name}, you're looking lucky today. Let's play!"
          ],
          betting: [
            "Place your bets, {name}. The cards are shuffled and ready.",
            "{name}, what's your wager going to be this hand?",
            "Time to bet, {name}. Feeling confident?",
            "Your move, {name}. How much are we playing for?"
          ],
          deal: [
            "Here we go, {name}! Dealing the cards now.",
            "Cards coming out, {name}. Good luck!",
            "Let's see what Lady Luck brings you, {name}!",
            "Dealing for {name}. May the cards be kind!"
          ],
          hitStand: [
            "{name}, what's it going to be? Hit or stand?",
            "Your decision, {name}. What do you want to do?",
            "{name}, the choice is yours. Hit me or stay put?",
            "It's up to you, {name}. How do you want to play this hand?"
          ],
          hit: [
            "One more card coming your way, {name}!",
            "Here's another one, {name}!",
            "Card up for {name}!",
            "Let's see what this brings you, {name}!"
          ],
          stand: [
            "Standing pat, {name}? Let's see what I've got.",
            "{name} is staying. Time for the dealer to play.",
            "Alright {name}, my turn to play.",
            "{name} stands. Let's reveal these cards."
          ],
          double: [
            "Doubling down, {name}? Bold strategy!",
            "{name} doubles the bet! One card coming up.",
            "Double or nothing, {name}! Here's your card.",
            "Doubling down, {name}. Let's see if it pays off!"
          ],
          split: [
            "Splitting those cards, {name}? Smart play!",
            "{name} splits! Now you've got two chances to win.",
            "Split 'em up, {name}! Double your opportunities.",
            "Nice split, {name}! Let's play both hands."
          ],
          insurance: [
            "{name}, I'm showing an Ace. Want insurance?",
            "Insurance available, {name}. Protect that bet?",
            "{name}, would you like insurance against my blackjack?",
            "Ace showing, {name}. Insurance bet?"
          ],
          win: [
            "Excellent hand, {name}! You beat the house!",
            "Well played, {name}! That's a winner.",
            "Nice job, {name}! You've got the magic touch.",
            "Congratulations, {name}! You outplayed me there."
          ],
          lose: [
            "House wins this round, {name}. Better luck next hand.",
            "Not your hand this time, {name}. The cards will turn.",
            "I got you this time, {name}. Next one's yours!",
            "Cards favored the dealer, {name}. Keep playing!"
          ],
          bust: [
            "Bust, {name}! Over 21. Better luck next hand.",
            "That's a bust, {name}. Cards weren't kind this time.",
            "Over 21, {name}! House wins this one.",
            "Busted, {name}! Try again next hand."
          ],
          dealerBust: [
            "Dealer busts! You win, {name}!",
            "I went over 21! Nice win, {name}!",
            "Bust! Congratulations, {name}!",
            "I busted, {name}. You're the winner!"
          ],
          blackjack: [
            "Blackjack, {name}! Outstanding!",
            "Natural 21, {name}! Perfect hand!",
            "{name} gets blackjack! That pays 3 to 2!",
            "Blackjack! Excellent work, {name}!"
          ],
          push: [
            "It's a push, {name}! We're even.",
            "Tie game, {name}! Your bet is returned.",
            "Same totals, {name}! Nobody wins this one.",
            "Push, {name}! We'll call it even."
          ],
          multiHand: [
            "Playing {num} hands, {name}? You're feeling confident!",
            "{name} is spreading the action across {num} hands!",
            "Multiple hands in play, {name}. Good strategy!",
            "{name} wants the full table experience with {num} hands!"
          ]
        };
        
        this.initializeGame();
      }
      
      initializeGame() {
        this.bindEvents();
        this.buildDeck();
      }
      
      bindEvents() {
        // Chip betting
        document.querySelectorAll('.chip').forEach(chip => {
          chip.addEventListener('click', () => {
            if (!this.gameActive && this.playerHands.length > 0) {
              this.placeBet(parseInt(chip.dataset.value));
            }
          });
        });
        
        // Deposit buttons
        document.querySelectorAll('.deposit-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            document.querySelectorAll('.deposit-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            document.getElementById('custom-amount').value = btn.dataset.amount;
          });
        });
        
        // Game controls
        document.getElementById('deal-btn').addEventListener('click', () => this.startNewRound());
        document.getElementById('clear-bets-btn').addEventListener('click', () => this.clearAllBets());
        document.getElementById('max-bet-btn').addEventListener('click', () => this.maxBet());
      }
      
      setPlayerName() {
        const nameInput = document.getElementById('player-name');
        if (nameInput.value.trim()) {
          this.playerName = nameInput.value.trim();
          document.getElementById('player-name-display').textContent = this.playerName;
          this.showSetup();
        } else {
          alert('Please enter your name!');
        }
      }
      
      showSetup() {
        document.getElementById('welcome-screen').classList.add('hidden');
        document.getElementById('setup-screen').classList.remove('hidden');
      }
      
      setupComplete() {
        this.numHands = parseInt(document.getElementById('num-hands').value);
        this.minBet = parseInt(document.getElementById('min-bet').value);
        this.showDepositScreen();
      }
      
      showDepositScreen() {
        document.getElementById('setup-screen').classList.add('hidden');
        document.getElementById('deposit-screen').classList.remove('hidden');
      }
      
      processDeposit() {
        const customAmountInput = document.getElementById('custom-amount');
        let amount = parseInt(customAmountInput.value);
        
        if (!amount || isNaN(amount)) {
          const selectedBtn = document.querySelector('.deposit-btn.selected');
          if (selectedBtn) {
            amount = parseInt(selectedBtn.dataset.amount);
          }
        }
        
        if (amount && amount >= 100 && amount <= 100000) {
          this.balance = amount;
          this.startingBankroll = amount;
          this.showGameTable();
          setTimeout(() => {
            this.speak(this.getRandomQuote('welcome'));
            if (this.numHands > 1) {
              setTimeout(() => {
                this.speak(this.getRandomQuote('multiHand').replace('{num}', this.numHands));
              }, 3000);
            }
          }, 1000);
        } else {
          alert('Please select a deposit amount or enter a valid amount between $100 and $100,000');
        }
      }
      
      showGameTable() {
        document.getElementById('deposit-screen').classList.add('hidden');
        document.getElementById('game-table').classList.remove('hidden');
        document.getElementById('stats-page').classList.add('hidden');
        
        // Update nav tab
        document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.nav-tab')[0].classList.add('active');
        
        this.createPlayerHands();
        this.updateDisplay();
      }
      
      showGame() {
        document.getElementById('game-table').classList.remove('hidden');
        document.getElementById('stats-page').classList.add('hidden');
        
        document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.nav-tab')[0].classList.add('active');
      }
      
      showStats() {
        document.getElementById('game-table').classList.add('hidden');
        document.getElementById('stats-page').classList.remove('hidden');
        
        document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.nav-tab')[1].classList.add('active');
        
        this.updateStatistics();
      }
      
      createPlayerHands() {
        const playerArea = document.getElementById('player-area');
        playerArea.innerHTML = '';
        
        this.playerHands = [];
        
        for (let i = 0; i < this.numHands; i++) {
          const handContainer = document.createElement('div');
          handContainer.className = 'hand-container';
          handContainer.id = `hand-${i}`;
          
          const handLabel = this.numHands > 1 ? `Hand ${i + 1}` : 'Your Hand';
          
          handContainer.innerHTML = `
            <div class="hand-info">
              <div class="hand-bet">Bet: $<span id="bet-${i}">0</span></div>
              <div class="hand-total" id="total-${i}">-</div>
            </div>
            <div class="hand-cards" id="cards-${i}"></div>
            <div class="hand-controls" id="controls-${i}">
              <button onclick="game.hit(${i})" class="btn-success" disabled>Hit</button>
              <button onclick="game.stand(${i})" class="btn-danger" disabled>Stand</button>
              <button onclick="game.double(${i})" disabled>Double</button>
              <button onclick="game.split(${i})" disabled>Split</button>
            </div>
          `;
          
          playerArea.appendChild(handContainer);
          
          this.playerHands.push({
            cards: [],
            bet: 0,
            active: false,
            finished: false,
            doubled: false,
            split: false
          });
        }
      }
      
      buildDeck() {
        const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
        const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
        
        this.deck = [];
        
        // Use 6 decks for realistic casino experience
        for (let deckCount = 0; deckCount < 6; deckCount++) {
          for (let suit of suits) {
            for (let value of values) {
              this.deck.push({ suit, value });
            }
          }
        }
        
        this.shuffleDeck();
      }
      
      shuffleDeck() {
        for (let i = this.deck.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [this.deck[i], this.deck[j]] = [this.deck[j], this.deck[i]];
        }
      }
      
      placeBet(amount) {
        // Find the first hand without a bet or add to existing bet
        for (let i = 0; i < this.playerHands.length; i++) {
          if (this.playerHands[i].bet === 0) {
            if (this.balance >= amount && amount >= this.minBet) {
              this.playerHands[i].bet = amount;
              this.balance -= amount;
              this.updateDisplay();
              this.updateHandDisplay(i);
              
              // Visual feedback
              const chip = document.querySelector(`[data-value="${amount}"]`);
              chip.style.transform = 'scale(1.2) translateY(-10px)';
              setTimeout(() => chip.style.transform = '', 300);
              
              return;
            } else if (amount < this.minBet) {
              this.speak(`Minimum bet is ${this.minBet}, ${this.playerName}.`);
              return;
            }
          }
        }
        
        // If all hands have bets, add to the first hand
        if (this.balance >= amount) {
          this.playerHands[0].bet += amount;
          this.balance -= amount;
          this.updateDisplay();
          this.updateHandDisplay(0);
        }
      }
      
      clearAllBets() {
        if (!this.gameActive) {
          for (let i = 0; i < this.playerHands.length; i++) {
            this.balance += this.playerHands[i].bet;
            this.playerHands[i].bet = 0;
            this.updateHandDisplay(i);
          }
          this.updateDisplay();
        }
      }
      
      maxBet() {
        if (!this.gameActive) {
          const maxBetAmount = Math.floor(this.balance / this.numHands);
          if (maxBetAmount >= this.minBet) {
            for (let i = 0; i < this.playerHands.length; i++) {
              this.balance += this.playerHands[i].bet; // Return current bet
              this.playerHands[i].bet = maxBetAmount;
              this.balance -= maxBetAmount;
              this.updateHandDisplay(i);
            }
            this.updateDisplay();
          }
        }
      }
      
      startNewRound() {
        // Check if any hands have bets
        const totalBets = this.playerHands.reduce((sum, hand) => sum + hand.bet, 0);
        if (totalBets === 0) {
          this.speak(`Place your bets first, ${this.playerName}!`);
          return;
        }
        
        // Check minimum bets
        for (let hand of this.playerHands) {
          if (hand.bet > 0 && hand.bet < this.minBet) {
            this.speak(`Minimum bet is ${this.minBet}, ${this.playerName}.`);
            return;
          }
        }
        
        this.gameActive = true;
        this.dealerRevealed = false;
        this.insuranceTaken = false;
        this.currentHand = 0;
        
        // Reset hands
        this.dealerHand = [];
        for (let i = 0; i < this.playerHands.length; i++) {
          if (this.playerHands[i].bet > 0) {
            this.playerHands[i].cards = [];
            this.playerHands[i].active = true;
            this.playerHands[i].finished = false;
            this.playerHands[i].doubled = false;
            this.playerHands[i].split = false;
          } else {
            this.playerHands[i].active = false;
            this.playerHands[i].finished = true;
          }
        }
        
        // Clear cards visually
        document.getElementById('dealer-cards').innerHTML = '';
        for (let i = 0; i < this.playerHands.length; i++) {
          document.getElementById(`cards-${i}`).innerHTML = '';
        }
        
        this.speak(this.getRandomQuote('deal'));
        
        // Add to statistics
        this.stats.totalHands++;
        const totalBet = this.playerHands.reduce((sum, hand) => sum + hand.bet, 0);
        this.stats.totalWagered += totalBet;
        this.stats.betSizes.push(totalBet);
        
        // Deal initial cards
        setTimeout(() => this.dealInitialCards(), 1000);
      }
      
      dealInitialCards() {
        let dealDelay = 0;
        
        // First card to each active hand
        for (let i = 0; i < this.playerHands.length; i++) {
          if (this.playerHands[i].active) {
            setTimeout(() => this.dealCard(i, false), dealDelay);
            dealDelay += 400;
          }
        }
        
        // First dealer card
        setTimeout(() => this.dealDealerCard(false), dealDelay);
        dealDelay += 400;
        
        // Second card to each active hand
        for (let i = 0; i < this.playerHands.length; i++) {
          if (this.playerHands[i].active) {
            setTimeout(() => this.dealCard(i, false), dealDelay);
            dealDelay += 400;
          }
        }
        
        // Second dealer card (face down)
        setTimeout(() => this.dealDealerCard(true), dealDelay);
        
        // Check for dealer ace (insurance) and blackjacks
        setTimeout(() => {
          this.updateAllHandDisplays();
          this.checkForInsurance();
        }, dealDelay + 800);
      }
      
      dealCard(handIndex, hidden = false) {
        if (this.deck.length < 10) {
          this.buildDeck();
        }
        
        const card = this.deck.pop();
        this.playerHands[handIndex].cards.push(card);
        
        const cardElement = this.createCardElement(card, hidden);
        const cardsContainer = document.getElementById(`cards-${handIndex}`);
        cardsContainer.appendChild(cardElement);
        
        return cardElement;
      }
      
      dealDealerCard(hidden = false) {
        if (this.deck.length < 10) {
          this.buildDeck();
        }
        
        const card = this.deck.pop();
        this.dealerHand.push(card);
        
        const cardElement = this.createCardElement(card, hidden);
        const dealerContainer = document.getElementById('dealer-cards');
        dealerContainer.appendChild(cardElement);
        
        return cardElement;
      }
      
      createCardElement(card, hidden = false) {
        const cardEl = document.createElement('div');
        cardEl.className = 'card dealing';
        if (hidden) cardEl.classList.add('flipped');
        
        const face = document.createElement('div');
        face.className = 'card-face';
        if (card.suit === '‚ô•' || card.suit === '‚ô¶') {
          face.classList.add('red');
        }
        
        const suitSize = card.value === '10' ? '14px' : '18px';
        face.innerHTML = `
          <div>${card.value}</div>
          <div style="font-size: ${suitSize};">${card.suit}</div>
          <div style="transform: rotate(180deg);">${card.value}</div>
        `;
        
        const back = document.createElement('div');
        back.className = 'card-back';
        back.innerHTML = 'üé∞';
        
        cardEl.appendChild(face);
        cardEl.appendChild(back);
        
        return cardEl;
      }
      
      checkForInsurance() {
        if (this.dealerHand[0].value === 'A') {
          const activeHands = this.playerHands.filter(hand => hand.active);
          if (activeHands.length > 0) {
            const totalInsuranceCost = activeHands.reduce((sum, hand) => sum + Math.floor(hand.bet / 2), 0);
            
            if (this.balance >= totalInsuranceCost) {
              this.showInsuranceModal(totalInsuranceCost);
              return;
            }
          }
        }
        
        this.checkForBlackjacks();
      }
      
      showInsuranceModal(cost) {
        document.getElementById('insurance-cost').textContent = cost;
        document.getElementById('insurance-modal').classList.remove('hidden');
        this.speak(this.getRandomQuote('insurance'));
      }
      
      takeInsurance() {
        const activeHands = this.playerHands.filter(hand => hand.active);
        const totalCost = activeHands.reduce((sum, hand) => sum + Math.floor(hand.bet / 2), 0);<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Elite Blackjack Casino - Realistic Table Experience</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --felt-green: #0d5016;
      --felt-dark: #0a3b11;
      --felt-light: #1a5d24;
      --table-edge: #8B4513;
      --gold: #ffd700;
      --gold-dark: #b8860b;
      --silver: #c0c0c0;
      --red: #dc3545;
      --blue: #007bff;
      --green: #28a745;
      --purple: #6f42c1;
      --black: #212529;
      --white: #ffffff;
      --text-light: #f8f9fa;
      --shadow: rgba(0, 0, 0, 0.8);
      --glow: rgba(255, 215, 0, 0.4);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background: linear-gradient(180deg, #2c1810 0%, #1a0f08 50%, var(--felt-dark) 100%);
      color: var(--text-light);
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
      height: 100vh;
      user-select: none;
      perspective: 1000px;
    }
    
    /* Navigation */
    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, var(--black), #333);
      border-bottom: 3px solid var(--gold);
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
      height: 60px;
    }
    
    .nav-title {
      font-size: 1.5em;
      font-weight: 700;
      color: var(--gold);
    }
    
    .nav-tabs {
      display: flex;
      gap: 20px;
    }
    
    .nav-tab {
      padding: 8px 20px;
      background: transparent;
      color: var(--text-light);
      border: 2px solid transparent;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
    }
    
    .nav-tab:hover, .nav-tab.active {
      border-color: var(--gold);
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: var(--black);
    }
    
    .player-info {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    .balance-display {
      background: linear-gradient(135deg, var(--green), #1e7e34);
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: 700;
      border: 2px solid var(--gold);
    }
    
    /* Welcome Screen */
    .screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
      background: linear-gradient(135deg, var(--felt-dark), var(--black));
    }
    
    .screen.hidden {
      display: none !important;
    }
    
    .welcome-card, .setup-card, .deposit-card {
      background: linear-gradient(135deg, var(--felt-light), var(--felt-green));
      padding: 50px;
      border-radius: 20px;
      border: 3px solid var(--gold);
      box-shadow: 0 20px 40px var(--shadow), 0 0 30px var(--glow);
      text-align: center;
      max-width: 600px;
      width: 90%;
    }
    
    .screen-title {
      font-size: 3em;
      font-weight: 800;
      color: var(--gold);
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px var(--shadow);
    }
    
    .screen-subtitle {
      font-size: 1.3em;
      margin-bottom: 30px;
      color: var(--text-light);
      opacity: 0.9;
    }
    
    .input-group {
      margin: 25px 0;
      text-align: left;
    }
    
    .input-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--gold);
      font-size: 1.1em;
    }
    
    .input-group input, .input-group select {
      width: 100%;
      padding: 15px;
      border: 2px solid var(--gold);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-light);
      font-size: 1.1em;
      text-align: center;
    }
    
    .input-group input:focus, .input-group select:focus {
      outline: none;
      box-shadow: 0 0 15px var(--glow);
    }
    
    .deposit-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin: 25px 0;
    }
    
    .deposit-btn {
      padding: 20px;
      background: linear-gradient(135deg, var(--blue), #0056b3);
      color: white;
      border: 2px solid transparent;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      font-size: 1.1em;
      transition: all 0.3s ease;
    }
    
    .deposit-btn:hover, .deposit-btn.selected {
      border-color: var(--gold);
      box-shadow: 0 0 20px var(--glow);
      transform: scale(1.05);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: var(--black);
      border: none;
      padding: 15px 40px;
      border-radius: 12px;
      font-size: 1.3em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px var(--shadow);
      margin: 20px 10px;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px var(--shadow);
    }
    
    /* Game Table - Realistic Perspective */
    .game-table {
      position: relative;
      width: 100%;
      height: 100vh;
      background: linear-gradient(180deg, #2c1810 0%, var(--felt-green) 30%, var(--felt-dark) 100%);
      transform-style: preserve-3d;
      padding-top: 60px;
    }
    
    .table-surface {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 85%;
      background: 
        radial-gradient(ellipse 80% 40% at 50% 100%, var(--felt-green), var(--felt-dark)),
        linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.3) 100%);
      border-radius: 50% 50% 0 0;
      border: 8px solid var(--table-edge);
      border-bottom: none;
      box-shadow: 
        inset 0 20px 40px rgba(0,0,0,0.3),
        0 -10px 30px rgba(0,0,0,0.5);
      transform: perspective(800px) rotateX(15deg);
    }
    
    /* Dealer Area */
    .dealer-area {
      position: absolute;
      top: 80px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 50;
    }
    
    .dealer-avatar {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      border: 3px solid var(--gold);
      box-shadow: 0 0 20px var(--glow);
      transition: transform 0.3s ease;
    }
    
    .dealer-speech {
      margin-top: 15px;
      padding: 12px 20px;
      background: linear-gradient(135deg, var(--white), #f0f0f0);
      color: var(--black);
      border-radius: 20px;
      font-weight: 600;
      display: inline-block;
      box-shadow: 0 5px 15px var(--shadow);
      position: relative;
      max-width: 300px;
      animation: fadeIn 0.5s ease;
    }
    
    .dealer-speech::before {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 8px solid var(--white);
    }
    
    .dealer-speech.hidden {
      display: none !important;
    }
    
    /* Card Areas */
    .dealer-cards {
      position: absolute;
      top: 180px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 30;
    }
    
    .player-area {
      position: absolute;
      bottom: 120px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      z-index: 40;
    }
    
    .hand-container {
      margin: 0 30px;
      text-align: center;
    }
    
    .hand-cards {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-bottom: 15px;
      min-height: 100px;
    }
    
    .hand-info {
      background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(0,0,0,0.9));
      padding: 10px 20px;
      border-radius: 15px;
      border: 2px solid var(--gold);
      margin-bottom: 10px;
      backdrop-filter: blur(10px);
    }
    
    .hand-bet {
      color: var(--gold);
      font-weight: 700;
      font-size: 1.2em;
    }
    
    .hand-total {
      color: var(--text-light);
      font-weight: 600;
      margin-top: 5px;
    }
    
    .hand-total.bust {
      color: var(--red);
      animation: shake 0.5s ease;
    }
    
    .hand-total.blackjack {
      color: var(--green);
      animation: pulse 1s ease infinite;
    }
    
    .hand-controls {
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .hand-controls button {
      padding: 10px 18px;
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: var(--black);
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.9em;
    }
    
    .hand-controls button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px var(--shadow);
    }
    
    .hand-controls button:disabled {
      background: #666;
      cursor: not-allowed;
      opacity: 0.5;
    }
    
    .hand-controls .btn-success {
      background: linear-gradient(135deg, var(--green), #1e7e34);
      color: white;
    }
    
    .hand-controls .btn-danger {
      background: linear-gradient(135deg, var(--red), #c82333);
      color: white;
    }
    
    /* Cards with 3D perspective */
    .card {
      width: 65px;
      height: 90px;
      position: relative;
      transform-style: preserve-3d;
      transition: all 0.6s ease;
      border-radius: 6px;
      box-shadow: 0 8px 16px var(--shadow);
      cursor: pointer;
    }
    
    .card:hover {
      transform: translateY(-8px) rotateY(5deg);
    }
    
    .card-face, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 6px;
    }
    
    .card-face {
      background: linear-gradient(135deg, var(--white), #f8f8f8);
      border: 2px solid #ddd;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 4px;
      font-weight: 800;
      font-size: 11px;
      color: var(--black);
    }
    
    .card-face.red {
      color: var(--red);
    }
    
    .card-back {
      background: 
        repeating-linear-gradient(45deg, var(--felt-green) 0, var(--felt-green) 4px, var(--felt-dark) 4px, var(--felt-dark) 8px),
        radial-gradient(circle, var(--gold), var(--gold-dark));
      border: 2px solid var(--gold);
      transform: rotateY(180deg);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 8px;
      color: var(--white);
      font-weight: 700;
    }
    
    .card.flipped {
      transform: rotateY(180deg);
    }
    
    /* Betting Area */
    .betting-area {
      position: absolute;
      bottom: 20px;
      left: 0;
      right: 0;
      text-align: center;
      z-index: 100;
    }
    
    .chips-container {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .chip {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      position: relative;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 12px var(--shadow);
      overflow: hidden;
    }
    
    .chip:hover {
      transform: scale(1.15) translateY(-8px);
      box-shadow: 0 12px 24px var(--shadow);
    }
    
    .chip-5 {
      background: radial-gradient(circle at 30% 30%, #ff6b6b, var(--red));
      border: 3px solid #ff8e8e;
    }
    
    .chip-10 {
      background: radial-gradient(circle at 30% 30%, #4ecdc4, #26a69a);
      border: 3px solid #80cbc4;
    }
    
    .chip-25 {
      background: radial-gradient(circle at 30% 30%, var(--gold), var(--gold-dark));
      border: 3px solid #ffeb3b;
    }
    
    .chip-50 {
      background: radial-gradient(circle at 30% 30%, #9c27b0, var(--purple));
      border: 3px solid #ce93d8;
    }
    
    .chip-100 {
      background: radial-gradient(circle at 30% 30%, #607d8b, #455a64);
      border: 3px solid #90a4ae;
    }
    
    .chip::before {
      content: '';
      position: absolute;
      top: 6px;
      left: 6px;
      right: 6px;
      bottom: 6px;
      border: 2px dashed rgba(255, 255, 255, 0.6);
      border-radius: 50%;
    }
    
    .chip-value {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: 800;
      font-size: 12px;
      color: white;
      text-shadow: 2px 2px 4px var(--shadow);
    }
    
    .game-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .game-controls button {
      padding: 12px 25px;
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: var(--black);
      border: none;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px var(--shadow);
    }
    
    .game-controls button:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px var(--shadow);
    }
    
    .game-controls button:disabled {
      background: #666;
      cursor: not-allowed;
      opacity: 0.5;
    }
    
    .game-controls .btn-success {
      background: linear-gradient(135deg, var(--green), #1e7e34);
      color: white;
    }
    
    .game-controls .btn-danger {
      background: linear-gradient(135deg, var(--red), #c82333);
      color: white;
    }
    
    /* Statistics Page */
    .stats-page {
      padding: 80px 30px 30px;
      max-width: 1200px;
      margin: 0 auto;
      background: linear-gradient(135deg, var(--felt-dark), var(--black));
      min-height: 100vh;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }
    
    .stats-card {
      background: linear-gradient(135deg, var(--felt-light), var(--felt-green));
      padding: 30px;
      border-radius: 15px;
      border: 2px solid var(--gold);
      box-shadow: 0 10px 30px var(--shadow);
    }
    
    .stats-card h3 {
      color: var(--gold);
      font-size: 1.5em;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .stat-row {
      display: flex;
      justify-content: space-between;
      margin: 12px 0;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 215, 0, 0.3);
    }
    
    .stat-label {
      color: var(--text-light);
      font-weight: 500;
    }
    
    .stat-value {
      color: var(--gold);
      font-weight: 700;
    }
    
    .probability-section {
      grid-column: 1 / -1;
      background: linear-gradient(135deg, var(--black), #333);
      padding: 40px;
      border-radius: 20px;
      border: 3px solid var(--gold);
    }
    
    .probability-section h3 {
      color: var(--gold);
      font-size: 2em;
      text-align: center;
      margin-bottom: 30px;
    }
    
    .prob-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .prob-card {
      background: linear-gradient(135deg, var(--felt-dark), var(--felt-green));
      padding: 20px;
      border-radius: 12px;
      border: 2px solid var(--gold);
      text-align: center;
    }
    
    .prob-title {
      color: var(--gold);
      font-weight: 700;
      margin-bottom: 10px;
    }
    
    .prob-value {
      color: var(--text-light);
      font-size: 1.5em;
      font-weight: 700;
    }
    
    /* Modals */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    
    .modal.hidden {
      display: none !important;
    }
    
    .modal-content {
      background: linear-gradient(135deg, var(--felt-light), var(--felt-green));
      padding: 40px;
      border-radius: 20px;
      border: 3px solid var(--gold);
      text-align: center;
      box-shadow: 0 20px 40px var(--shadow);
      max-width: 500px;
      width: 90%;
    }
    
    .modal-title {
      font-size: 2em;
      color: var(--gold);
      margin-bottom: 20px;
      font-weight: 700;
    }
    
    .modal-text {
      font-size: 1.2em;
      margin-bottom: 30px;
      line-height: 1.6;
    }
    
    .modal-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes dealCard {
      0% {
        transform: translate(-50%, -200px) rotate(15deg);
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        opacity: 1;
        transform: translate(-50%, 0) rotate(0deg);
      }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .card.dealing {
      animation: dealCard 0.8s ease forwards;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-bar {
        padding: 0 15px;
        height: 50px;
      }
      
      .nav-title {
        font-size: 1.2em;
      }
      
      .nav-tabs {
        gap: 10px;
      }
      
      .nav-tab {
        padding: 6px 12px;
        font-size: 0.9em;
      }
      
      .dealer-area {
        top: 70px;
      }
      
      .dealer-avatar {
        width: 70px;
        height: 70px;
      }
      
      .player-area {
        bottom: 140px;
      }
      
      .hand-container {
        margin: 0 15px;
      }
      
      .chips-container {
        gap: 10px;
      }
      
      .chip {
        width: 50px;
        height: 50px;
      }
      
      .chip-value {
        font-size: 10px;
      }
      
      .game-controls {
        gap: 10px;
      }
      
      .game-controls button {
        padding: 10px 20px;
        font-size: 0.9em;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .stats-card {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav-bar">
    <div class="nav-title">üé∞ Elite Blackjack Casino</div>
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="game.showGame()">Game</button>
      <button class="nav-tab" onclick="game.showStats()">Statistics</button>
    </div>
    <div class="player-info">
      <span id="player-name-display">Player</span>
      <div class="balance-display">$<span id="nav-balance">0</span></div>
    </div>
  </nav>

  <!-- Welcome Screen -->
  <div id="welcome-screen" class="screen">
    <div class="welcome-card">
      <h1 class="screen-title">üé∞ Welcome</h1>
      <p class="screen-subtitle">Enter your name to begin your casino experience</p>
      <div class="input-group">
        <label for="player-name">Your Name:</label>
        <input type="text" id="player-name" placeholder="Enter your name" maxlength="15">
      </div>
      <button class="btn-primary" onclick="game.setPlayerName()">Continue</button>
    </div>
  </div>

  <!-- Game Setup Screen -->
  <div id="setup-screen" class="screen hidden">
    <div class="setup-card">
      <h2 class="screen-title">üÉè Game Setup</h2>
      <p class="screen-subtitle">Configure your blackjack experience</p>
      
      <div class="input-group">
        <label for="num-hands">How many hands do you want to play?</label>
        <select id="num-hands">
          <option value="1">1 Hand (Classic)</option>
          <option value="2">2 Hands</option>
          <option value="3">3 Hands</option>
          <option value="4">4 Hands (High Roller)</option>
        </select>
      </div>
      
      <div class="input-group">
        <label for="min-bet">Minimum bet per hand:</label>
        <select id="min-bet">
          <option value="5">$5 (Beginner)</option>
          <option value="10">$10 (Standard)</option>
          <option value="25">$25 (Intermediate)</option>
          <option value="50">$50 (Advanced)</option>
          <option value="100">$100 (High Roller)</option>
        </select>
      </div>
      
      <button class="btn-primary" onclick="game.setupComplete()">Continue to Deposit</button>
    </div>
  </div>

  <!-- Deposit Screen -->
  <div id="deposit-screen" class="screen hidden">
    <div class="deposit-card">
      <h2 class="screen-title">üí∞ Deposit Funds</h2>
      <p class="screen-subtitle">Choose your starting bankroll</p>
      
      <div class="deposit-grid">
        <button class="deposit-btn" data-amount="500">$500</button>
        <button class="deposit-btn" data-amount="1000">$1,000</button>
        <button class="deposit-btn" data-amount="2500">$2,500</button>
        <button class="deposit-btn" data-amount="5000">$5,000</button>
        <button class="deposit-btn" data-amount="10000">$10,000</button>
        <button class="deposit-btn" data-amount="25000">$25,000</button>
      </div>
      
      <div class="input-group">
        <label for="custom-amount">Custom amount ($100 - $100,000):</label>
        <input type="number" id="custom-amount" placeholder="Enter amount" min="100" max="100000">
      </div>
      
      <button class="btn-primary" onclick="game.processDeposit()">Start Playing</button>
    </div>
  </div>

  <!-- Game Table -->
  <div id="game-table" class="game-table hidden">
    <div class="table-surface"></div>
    
    <!-- Dealer Area -->
    <div class="dealer-area">
      <img class="dealer-avatar" 
           src="https://raw.githubusercontent.com/Ethan-Ragbir/black-jack/main/dealer-avatar.png" 
           alt="Dealer">
      <div id="dealer-speech" class="dealer-speech hidden">Welcome to the table!</div>
    </div>

    <!-- Dealer Cards -->
    <div id="dealer-cards" class="dealer-cards"></div>
    
    <!-- Dealer Total -->
    <div id="dealer-total" style="position: absolute; top: 280px; left: 50%; transform: translateX(-50%);
